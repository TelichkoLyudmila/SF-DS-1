# Определение взаимосвязей по клиентам банка - предварительный анализ и визуализация

## Оглавление  
1. Описание проекта
2. Какой кейс решаем? 
3. Краткая информация о данных
4. Этапы работы над проектом
5. Результат  
6. Выводы

### Описание проекта    
Некоторый банк хочет разработать кампанию лояльности по удержанию клиентов. Для этого он хочет прогнозировать вероятности оттока клиентов и определять, уйдёт ли клиент в ближайшее время. 

### Какой кейс решаем?    
Задача:  найти взаимосвязи в данных и построить визуализации

**Что практикуем**     
Feature engineering, визуализация plotly, matplotlib.pyplot

### Краткая информация о данных
Данные представляют собой таблицу в формате CSV:

- RowNumber — номер строки;
- CustomerId — ID клиента;
- Surname — фамилия клиента;
- CreditScore — кредитный рейтинг;
- Geography — страна локации клиента;
- Gender — пол клиента;
- Age — возраст клиента;
- Tenure — время пользования услугами банка;
- Balance — текущий баланс по счету;
- NumOfProducts — число используемых продуктов;
- HasCrCard — есть ли кредитная карта;
- IsActiveMember — пользуется ли продуктами банка чаще раза в месяц;
- EstimatedSalary — ожидаемая заработная плата;
- Exited — целевая переменная - ушел клиент или остался.


### Этапы работы над проектом  

- Каково соотношение ушедших и лояльных клиентов? 
- Посмотрим на распределение баланса пользователей, у которых на счету больше 2 500 долларов
- Посмотрим на распределение баланса клиента в разрезе признака оттока.
- Посмотрим на распределение возраста в разрезе признака оттока.
- Построим график, который показывает взаимосвязь кредитного рейтинга клиента и его предполагаемой зарплаты. 
- Кто чаще уходит, мужчины или женщины?
- Как отток клиентов зависит от числа приобретённых у банка услуг?
- Как влияет наличие статуса активного клиента на отток клиентов? 
- В какой стране доля ушедших клиентов больше? 

### Результаты:  

Проверены некоторые взаимосвязи по клиентам:

- Каково соотношение ушедших и лояльных клиентов? 

Доля лояльных клиентов существенно выше ушедших, и составляет почти 80%. Забегая вперед около 5% из лояльных имеют околонулевой баланс

- Посмотрим на распределение баланса пользователей, у которых на счету больше 2 500 долларов

У большинства пользователей на счет лежит от 100 до 140к долларов. Больше 200к долларов только у единичных клиентов, видимо, при таких суммах средства переводятся в другие продукты, где они не попадают в выборку. Распределение близко к нормальному.

- Посмотрим на распределение баланса клиента в разрезе признака оттока.

У ушедших клиентов более сильный разброс в балансе. Можно предположить, что у банка есть определнные льготы/требование на хранение на счету какой-то суммы. Если клиенты уходили за пределы, или наоборот, недобирали до нужной суммы, они не получали выгодные условия и уходили

- Посмотрим на распределение возраста в разрезе признака оттока.

Большинство лояльных клиентов попадает в категорию 30-40 лет, а вот люди от 40 до 50 зачастую уходят. Большинство выбросов среди лояльных клиентов также относятся к околопенсионному возрасту. Возможно, банку стоит продумать специальную программу для пенсионеров или выгодные низкорисковые продукты для людей старше 40, когда зачастую уже имеют накопленный капитал. 

- Построим график, который показывает взаимосвязь кредитного рейтинга клиента и его предполагаемой зарплаты. 

Тут видно, что среди ушедших клиентов примерно треть имели достаточно низкий кредитный рейтинг, значит им могли отказывать в некоторых кредитных продуктах, что и послужило причиной ухода. Среди лояльных клиентов большинство имеет средний рейтинг (от 500 до 700 баллов)

- Кто чаще уходит, мужчины или женщины?

Женщин уходит чуть больше

- Как отток клиентов зависит от числа приобретённых у банка услуг?

В среднем лояльные клиенты имели больше продуктов банка. Если смотреть медианное значение, то лояльные клиенты имели 2 продукта, а ушедшие - 1. Однако при среднем показателе на человека в группах, то разница не так велика: лояльные - 1.54, а ушедшие - 1.48

Возможный вывод: Самое большое количество ушедших клиентов воспользовались только одним продуктом банка. Довольно печальная картина с клиентами, которые воспользовались 3 и 4 продуктами, там доля ушедших клиентов намного превышает лояльных, а с 4-мя продуктами так вообще составляет 100%.

- Как влияет наличие статуса активного клиента на отток клиентов? 

В среднем в группе лояльных клиентов на 2ух человек один является активным пользователем. В группе ушедших на 3 человек только 1 активный. Если клиенты не используют услуги банка, в какой-то момент они все равно уйдут. Возможно стоит проводить промоакции или предлагать специализированные продукты неактивным клиентам.

- В какой стране доля ушедших клиентов больше? 

Больше всего клиентов уходит из Германии, там каждый 3ий клиент уже ушел. Либо банк не выигрывает в конкурентной борьбе в стране, либо условия слишком ограничивающее для немецких граждан

### Выводы:  

Большинство уходящих клиентов в банке недавно и имеют самую низкую категорию рейтинга - таких клиентов не стоит удерживать, они являются естественную текучкой для банка. Однако вторая по величине категория - это клиенты банка более 10 лет, они могут попадать в категорию низкого кредитного рейтинга из-за предпенсионного возраста и отсутствия регулярных поступлений. Возможно, таких клиентов стоит проверять тщательнее. Также каждый четвертый из новых клиентов и 10-летних клиентов с высоким рейтингом уходят из банка, что свидетельствует о недостаточно хороших программах для этих категорий клиентов.

